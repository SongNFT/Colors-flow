{"ast":null,"code":"import { config as e } from \"@onflow/config\";\nexport { config } from \"@onflow/config\";\nimport { isTransaction as r, isScript as n, get as t, pipe as o, interaction as i } from \"@onflow/interaction\";\nexport { isBad, isOk, pipe, why } from \"@onflow/interaction\";\nimport { invariant as u } from \"@onflow/util-invariant\";\nimport { latestBlock as a } from \"@onflow/sdk-latest-block\";\nexport { latestBlock } from \"@onflow/sdk-latest-block\";\nimport { account as s } from \"@onflow/sdk-account\";\nexport { account } from \"@onflow/sdk-account\";\nimport { sansPrefix as c, withPrefix as f } from \"@onflow/util-address\";\nexport { display, sansPrefix, withPrefix } from \"@onflow/util-address\";\nimport { encode as d } from \"@onflow/rlp\";\nimport { resolve as l } from \"@onflow/sdk-resolve\";\nimport { INIT as m, SUBSCRIBE as p, UPDATED as h, UNSUBSCRIBE as v, SNAPSHOT as y, subscriber as g, spawn as P, snapshoter as b, send as w } from \"@onflow/util-actor\";\nimport { send as k } from \"@onflow/sdk-send\";\nexport { send } from \"@onflow/sdk-send\";\nimport { decode as E } from \"@onflow/sdk-decode\";\nexport { decode } from \"@onflow/sdk-decode\";\nimport { getTransactionStatus as I } from \"@onflow/sdk-build-transaction-status\";\nexport { getTransactionStatus } from \"@onflow/sdk-build-transaction-status\";\nexport { getEvents } from \"@onflow/sdk-build-get-events\";\nimport { uid as S } from \"@onflow/util-uid\";\nexport { template as cadence, template as cdc } from \"@onflow/util-template\";\nexport { transaction } from \"@onflow/sdk-build-transaction\";\nexport { script } from \"@onflow/sdk-build-script\";\nexport { ping } from \"@onflow/sdk-build-ping\";\nexport { getAccount } from \"@onflow/sdk-build-get-account\";\nexport { getLatestBlock } from \"@onflow/sdk-build-get-latest-block\";\nexport { getBlockById } from \"@onflow/sdk-build-get-block-by-id\";\nexport { getBlockByHeight } from \"@onflow/sdk-build-get-block-by-height\";\nexport { authorization, authorizations } from \"@onflow/sdk-build-authorizations\";\nexport { arg, args } from \"@onflow/sdk-build-arguments\";\nexport { proposer } from \"@onflow/sdk-build-proposer\";\nexport { payer } from \"@onflow/sdk-build-payer\";\nexport { limit } from \"@onflow/sdk-build-limit\";\nexport { ref } from \"@onflow/sdk-build-ref\";\nexport { param, params } from \"@onflow/sdk-build-params\";\ne().put(\"accessNode.api\", \"http://localhost:8080\").put(\"challenge.handshake\", \"http://localhost:8700/authenticate\");\n\nvar x = function (e) {\n  return \"function\" == typeof e;\n},\n    A = function (e) {\n  return \"string\" == typeof e;\n},\n    R = function (e) {\n  return \"function\" == typeof e;\n};\n\nfunction j(e) {\n  return u(null != typeof e.xform, \"No type specified for argument: \" + e.value), R(e.xform) ? e.xform(e.value) : R(e.xform.asArgument) ? e.xform.asArgument(e.value) : void u(!1, \"Invalid Argument\", e);\n}\n\nvar C = \"undefined\" != typeof Symbol ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nfunction N(e, r, n) {\n  if (!e.s) {\n    if (n instanceof T) {\n      if (!n.s) return void (n.o = N.bind(null, e, r));\n      1 & r && (r = n.s), n = n.v;\n    }\n\n    if (n && n.then) return void n.then(N.bind(null, e, r), N.bind(null, e, 2));\n    e.s = r, e.v = n;\n    var t = e.o;\n    t && t(e);\n  }\n}\n\nvar T = function () {\n  function e() {}\n\n  return e.prototype.then = function (r, n) {\n    var t = new e(),\n        o = this.s;\n\n    if (o) {\n      var i = 1 & o ? r : n;\n\n      if (i) {\n        try {\n          N(t, 1, i(this.v));\n        } catch (e) {\n          N(t, 2, e);\n        }\n\n        return t;\n      }\n\n      return this;\n    }\n\n    return this.o = function (e) {\n      try {\n        var o = e.v;\n        1 & e.s ? N(t, 1, r ? r(o) : o) : n ? N(t, 1, n(o)) : N(t, 2, o);\n      } catch (e) {\n        N(t, 2, e);\n      }\n    }, t;\n  }, e;\n}();\n\nfunction L(e) {\n  return e instanceof T && 1 & e.s;\n}\n\nvar O = function e(r, n, t, o) {\n  void 0 === o && (o = 3);\n\n  try {\n    var i = function () {\n      t && (r.authorizations = r.authorizations.map(function (e) {\n        return e === t.tempId ? a : e;\n      }).reduce(function (e, r) {\n        return Array.isArray(r) ? [].concat(e, r) : [].concat(e, [r]);\n      }, []));\n    };\n\n    u(o, \"Account Resolve Recursion Limit Exceeded\", {\n      ix: r,\n      accounts: n\n    });\n\n    var a = [],\n        s = function (e, r, n) {\n      if (\"function\" == typeof e[C]) {\n        var t,\n            o,\n            i,\n            u = e[C]();\n\n        if (function e(n) {\n          try {\n            for (; !(t = u.next()).done;) if ((n = r(t.value)) && n.then) {\n              if (!L(n)) return void n.then(e, i || (i = N.bind(null, o = new T(), 2)));\n              n = n.v;\n            }\n\n            o ? N(o, 1, n) : o = n;\n          } catch (e) {\n            N(o || (o = new T()), 2, e);\n          }\n        }(), u.return) {\n          var a = function (e) {\n            try {\n              t.done || u.return();\n            } catch (e) {}\n\n            return e;\n          };\n\n          if (o && o.then) return o.then(a, function (e) {\n            throw a(e);\n          });\n          a();\n        }\n\n        return o;\n      }\n\n      if (!(\"length\" in e)) throw new TypeError(\"Object is not iterable\");\n\n      for (var s = [], c = 0; c < e.length; c++) s.push(e[c]);\n\n      return function (e, r, n) {\n        var t,\n            o,\n            i = -1;\n        return function n(u) {\n          try {\n            for (; ++i < e.length;) if ((u = r(i)) && u.then) {\n              if (!L(u)) return void u.then(n, o || (o = N.bind(null, t = new T(), 2)));\n              u = u.v;\n            }\n\n            t ? N(t, 1, u) : t = u;\n          } catch (e) {\n            N(t || (t = new T()), 2, e);\n          }\n        }(), t;\n      }(s, function (e) {\n        return r(s[e]);\n      });\n    }(n, function (n) {\n      function i() {\n        function i() {\n          u.tempId != n.tempId && delete r.accounts[u.tempId];\n        }\n\n        var s = function () {\n          if (Array.isArray(n)) return Promise.resolve(e(r, n, u, o - 1)).then(function () {});\n          r.accounts[n.tempId] = r.accounts[n.tempId] || n, r.accounts[n.tempId].role.proposer = r.accounts[n.tempId].role.proposer || n.role.proposer, r.accounts[n.tempId].role.payer = r.accounts[n.tempId].role.payer || n.role.payer, r.accounts[n.tempId].role.authorizer = r.accounts[n.tempId].role.authorizer || n.role.authorizer, r.accounts[n.tempId].role.proposer && r.proposer === u.tempId && (r.proposer = n.tempId), r.accounts[n.tempId].role.payer && r.payer === u.tempId && (r.payer = n.tempId), r.accounts[n.tempId].role.authorizer && (t ? a = [].concat(a, [n.tempId]) : r.authorizations = r.authorizations.map(function (e) {\n            return e === u.tempId ? n.tempId : e;\n          }));\n        }();\n\n        return s && s.then ? s.then(i) : i();\n      }\n\n      var u = t || n,\n          s = function () {\n        if (z(n.resolve)) return Promise.resolve(n.resolve(n, function (e, r) {\n          try {\n            return {\n              f_type: \"PreSignable\",\n              f_vsn: \"1.0.0\",\n              roles: e.role,\n              cadence: r.message.cadence,\n              args: r.message.arguments.map(function (e) {\n                return r.arguments[e].asArgument;\n              }),\n              data: {},\n              interaction: r\n            };\n          } catch (e) {\n            throw console.error(\"buildPreSignable\", e), e;\n          }\n        }(n, r))).then(function (e) {\n          n = e;\n        });\n      }();\n\n      return s && s.then ? s.then(i) : i();\n    });\n\n    return Promise.resolve(s && s.then ? s.then(i) : i());\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    z = function (e) {\n  return \"function\" == typeof e;\n};\n\nfunction _() {\n  return (_ = Object.assign || function (e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var n = arguments[r];\n\n      for (var t in n) Object.prototype.hasOwnProperty.call(n, t) && (e[t] = n[t]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction D(e, r) {\n  (null == r || r > e.length) && (r = e.length);\n\n  for (var n = 0, t = new Array(r); n < r; n++) t[n] = e[n];\n\n  return t;\n}\n\nfunction F(e, r) {\n  var n;\n\n  if (\"undefined\" == typeof Symbol || null == e[Symbol.iterator]) {\n    if (Array.isArray(e) || (n = function (e, r) {\n      if (e) {\n        if (\"string\" == typeof e) return D(e, void 0);\n        var n = Object.prototype.toString.call(e).slice(8, -1);\n        return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(e) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? D(e, void 0) : void 0;\n      }\n    }(e)) || r && e && \"number\" == typeof e.length) {\n      n && (e = n);\n      var t = 0;\n      return function () {\n        return t >= e.length ? {\n          done: !0\n        } : {\n          done: !1,\n          value: e[t++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  return (n = e[Symbol.iterator]()).next.bind(n);\n}\n\nvar U = function (e, r) {\n  return Buffer.from(e.padStart(2 * r, 0), \"hex\");\n},\n    B = function (e) {\n  return U(e, 8);\n},\n    M = function (e) {\n  return Buffer.from(JSON.stringify(e), \"utf8\");\n},\n    H = function (e) {\n  return d(e).toString(\"hex\");\n},\n    J = function (e) {\n  return G(e), [(n = e.script, Buffer.from(n, \"utf8\")), e.arguments.map(M), (r = e.refBlock, U(r, 32)), e.gasLimit, B(e.proposalKey.address), e.proposalKey.keyId, e.proposalKey.sequenceNum, B(e.payer), e.authorizers.map(B)];\n  var r, n;\n},\n    q = function (e) {\n  var r = K(e);\n  return e.payloadSigs.map(function (e) {\n    return {\n      signerIndex: r.get(e.address),\n      keyId: e.keyId,\n      sig: e.sig\n    };\n  }).sort(function (e, r) {\n    return e.signerIndex > r.signerIndex ? 1 : e.signerIndex < r.signerIndex ? -1 : e.keyId > r.keyId ? 1 : e.keyId < r.keyId ? -1 : void 0;\n  }).map(function (e) {\n    return [e.signerIndex, e.keyId, (r = e.sig, Buffer.from(r, \"hex\"))];\n    var r;\n  });\n},\n    K = function (e) {\n  var r = new Map(),\n      n = 0,\n      t = function (e) {\n    r.has(e) || (r.set(e, n), n++);\n  };\n\n  return t(e.proposalKey.address), t(e.payer), e.authorizers.forEach(t), r;\n},\n    G = function (e) {\n  W.forEach(function (r) {\n    return re(e, r);\n  }), $.forEach(function (r) {\n    return re(e.proposalKey, r, \"proposalKey\");\n  });\n},\n    V = function (e) {\n  return \"number\" == typeof e;\n},\n    Y = function (e) {\n  return \"string\" == typeof e;\n},\n    Z = function (e) {\n  return null !== e && \"object\" == typeof e;\n},\n    X = function (e) {\n  return Z(e) && e instanceof Array;\n},\n    W = [{\n  name: \"script\",\n  check: Y\n}, {\n  name: \"arguments\",\n  check: X\n}, {\n  name: \"refBlock\",\n  check: Y,\n  defaultVal: \"0\"\n}, {\n  name: \"gasLimit\",\n  check: V\n}, {\n  name: \"proposalKey\",\n  check: Z\n}, {\n  name: \"payer\",\n  check: Y\n}, {\n  name: \"authorizers\",\n  check: X\n}],\n    $ = [{\n  name: \"address\",\n  check: Y\n}, {\n  name: \"keyId\",\n  check: V\n}, {\n  name: \"sequenceNum\",\n  check: V\n}],\n    Q = [{\n  name: \"payloadSigs\",\n  check: X\n}],\n    ee = [{\n  name: \"address\",\n  check: Y\n}, {\n  name: \"keyId\",\n  check: V\n}, {\n  name: \"sig\",\n  check: Y\n}],\n    re = function (e, r, n, t) {\n  var o = r.name,\n      i = r.check,\n      u = r.defaultVal;\n  if (null == e[o] && null != u && (e[o] = u), null == e[o]) throw te(o, n, t);\n  if (!i(e[o])) throw oe(o, n, t);\n},\n    ne = function (e, r, n) {\n  return r ? null == n ? r + \".\" + e : r + \".\" + n + \".\" + e : e;\n},\n    te = function (e, r, n) {\n  return new Error(\"Missing field \" + ne(e, r, n));\n},\n    oe = function (e, r, n) {\n  return new Error(\"Invalid field \" + ne(e, r, n));\n};\n\nfunction ie(e, r) {\n  return function (n) {\n    try {\n      var t = e.accounts[n];\n      return null != t.signature ? Promise.resolve() : Promise.resolve(t.signingFunction(function (e, r, n) {\n        try {\n          return {\n            f_type: \"Signable\",\n            f_vsn: \"1.0.0\",\n            message: r,\n            addr: c(e.addr),\n            keyId: e.keyId,\n            roles: e.role,\n            cadence: n.message.cadence,\n            args: n.message.arguments.map(function (e) {\n              return n.arguments[e].asArgument;\n            }),\n            data: {},\n            interaction: n\n          };\n        } catch (e) {\n          throw console.error(\"buildSignable\", e), e;\n        }\n      }(t, r, e))).then(function (r) {\n        e.accounts[n].signature = r.signature;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction ue(e) {\n  return {\n    script: e.message.cadence,\n    refBlock: e.message.refBlock || null,\n    gasLimit: e.message.computeLimit,\n    arguments: e.message.arguments.map(function (r) {\n      return e.arguments[r].asArgument;\n    }),\n    proposalKey: {\n      address: c(e.accounts[e.proposer].addr),\n      keyId: e.accounts[e.proposer].keyId,\n      sequenceNum: e.accounts[e.proposer].sequenceNum\n    },\n    payer: c(e.accounts[e.payer].addr),\n    authorizers: e.authorizations.map(function (r) {\n      return c(e.accounts[r].addr);\n    }).reduce(function (e, r) {\n      return e.find(function (e) {\n        return e === r;\n      }) ? e : [].concat(e, [r]);\n    }, [])\n  };\n}\n\nvar ae = o([function (o) {\n  try {\n    var i = function () {\n      if (r(o) || n(o)) {\n        var i = function () {\n          return u(A(a), \"Cadence needs to be a string at this point.\"), Promise.resolve(e().where(/^0x/).then(function (e) {\n            return Object.entries(e).reduce(function (e, r) {\n              return e.replace(r[0], r[1]);\n            }, a);\n          })).then(function (e) {\n            o.message.cadence = e;\n          });\n        },\n            a = t(o, \"ix.cadence\");\n\n        u(x(a) || A(a), \"Cadence needs to be a function or a string.\");\n\n        var s = function () {\n          if (x(a)) return Promise.resolve(a({})).then(function (e) {\n            a = e;\n          });\n        }();\n\n        return s && s.then ? s.then(i) : i();\n      }\n    }();\n\n    return Promise.resolve(i && i.then ? i.then(function () {\n      return o;\n    }) : o);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    if (r(e) || n(e)) for (var t = 0, o = Object.entries(e.arguments); t < o.length; t++) {\n      var i = o[t];\n      e.arguments[i[0]].asArgument = j(i[1]);\n    }\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    var n = function () {\n      if (r(e)) return function (r, n) {\n        try {\n          var t = Promise.resolve(O(e, Object.values(e.accounts))).then(function () {\n            return Promise.resolve(O(e, Object.values(e.accounts))).then(function () {});\n          });\n        } catch (e) {\n          return n(e);\n        }\n\n        return t && t.then ? t.then(void 0, n) : t;\n      }(0, function (e) {\n        throw console.error(\"=== SAD PANDA ===\\n\\n\", e, \"\\n\\n=== SAD PANDA ===\"), e;\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function (r) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    var n = function () {\n      if (r(e) && null == e.message.refBlock) return Promise.resolve(a()).then(function (r) {\n        e.message.refBlock = r.id;\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    var n = function () {\n      if (r(e)) {\n        var n = Object.values(e.accounts).find(function (e) {\n          return e.role.proposer;\n        });\n        u(n, \"Transactions require a proposer\");\n\n        var t = function () {\n          if (null == n.sequenceNum) return Promise.resolve(s(n.addr).then(function (e) {\n            return e.keys;\n          }).then(function (e) {\n            return e.find(function (e) {\n              return e.index === n.keyId;\n            });\n          }).then(function (e) {\n            return e.sequenceNumber;\n          })).then(function (r) {\n            e.accounts[n.tempId].sequenceNum = r;\n          });\n        }();\n\n        if (t && t.then) return t.then(function () {});\n      }\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    var n = function () {\n      if (r(e)) return function (r, n) {\n        try {\n          var t = (i = function (e) {\n            var r = new Set(e.authorizations);\n            return r.add(e.proposer), r.delete(e.payer), Array.from(r);\n          }(e), o = ue(e), u = H(J(o)), Promise.resolve(Promise.all(i.map(ie(e, u)))).then(function () {\n            var r = function (e) {\n              var r = new Set([e.payer]);\n              return Array.from(r);\n            }(e),\n                n = function (e) {\n              return H(function (e) {\n                return function (e) {\n                  Q.forEach(function (r) {\n                    return re(e, r);\n                  }), e.payloadSigs.forEach(function (e, r) {\n                    ee.forEach(function (n) {\n                      return re(e, n, \"payloadSigs\", r);\n                    });\n                  });\n                }(e), [J(e), q(e)];\n              }(e));\n            }(_({}, ue(e), {\n              payloadSigs: i.map(function (r) {\n                return {\n                  address: e.accounts[r].addr,\n                  keyId: e.accounts[r].keyId,\n                  sig: e.accounts[r].signature\n                };\n              })\n            }));\n\n            return Promise.resolve(Promise.all(r.map(ie(e, n)))).then(function () {});\n          }));\n        } catch (e) {\n          return n(e);\n        }\n\n        var o, i, u;\n        return t && t.then ? t.then(void 0, n) : t;\n      }(0, function (r) {\n        throw console.error(\"Signatures\", r, {\n          ix: e\n        }), r;\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function (r) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (e) {\n  try {\n    for (var r = 0, n = Object.keys(e.accounts); r < n.length; r++) {\n      var t = n[r];\n      e.accounts[t].addr = c(e.accounts[t].addr);\n    }\n\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}]);\ne().put(\"sdk.resolve\", ae);\n\nvar se,\n    ce,\n    fe = function (r, n) {\n  void 0 === r && (r = []), void 0 === n && (n = {});\n\n  try {\n    return Promise.resolve(e().get(\"sdk.resolve\", n.resolve || l(n))).then(function (e) {\n      function n() {\n        return Promise.resolve(e(r)).then(function (e) {\n          return JSON.stringify(e, null, 2);\n        });\n      }\n\n      var t = function () {\n        if (Array.isArray(r)) return Promise.resolve(o(i(), r)).then(function (e) {\n          r = e;\n        });\n      }();\n\n      return t && t.then ? t.then(n) : n();\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    de = function (e) {\n  try {\n    return Promise.resolve(k([I(e)]).then(E));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    le = function (e) {\n  return e.status >= 4;\n},\n    me = function (e) {\n  return e.status >= 3;\n},\n    pe = function (e) {\n  return e.status >= 2;\n},\n    he = ((se = {})[m] = function (e) {\n  try {\n    return Promise.resolve(de(e.self())).then(function (r) {\n      le(r) || setTimeout(function () {\n        return e.sendSelf(\"POLL\");\n      }, 2500), e.merge(r);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, se[p] = function (e, r) {\n  e.subscribe(r.from), e.send(r.from, h, e.all());\n}, se[v] = function (e, r) {\n  e.unsubscribe(r.from);\n}, se[y] = function (e, r) {\n  try {\n    return r.reply(e.all()), Promise.resolve();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, se.POLL = function (e) {\n  try {\n    return Promise.resolve(de(e.self())).then(function (r) {\n      var n, t;\n      le(r) || setTimeout(function () {\n        return e.sendSelf(\"POLL\");\n      }, 2500), n = e.all(), t = r, JSON.stringify(n) !== JSON.stringify(t) && e.broadcast(h, r), e.merge(r);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, se),\n    ve = function (e) {\n  if (\"object\" == typeof e && (e = e.transactionId), null == e) throw new Error(\"transactionId required\");\n  return e;\n},\n    ye = function (e) {\n  return P(he, ve(e));\n};\n\nfunction ge(e) {\n  function r(r) {\n    return g(ve(e), ye, r);\n  }\n\n  function n(e) {\n    return function (n) {\n      void 0 === n && (n = {});\n      var t = n.suppress || !1;\n      return new Promise(function (n, o) {\n        var i = r(function (r) {\n          r.statusCode && !t ? (o(r.errorMessage), i()) : e(r) && (n(r), i());\n        });\n      });\n    };\n  }\n\n  return {\n    snapshot: function () {\n      return b(e, ye);\n    },\n    subscribe: r,\n    onceFinalized: n(pe),\n    onceExecuted: n(me),\n    onceSealed: n(le)\n  };\n}\n\nge.isUnknown = function (e) {\n  return e.status >= 0;\n}, ge.isPending = function (e) {\n  return e.status >= 1;\n}, ge.isFinalized = pe, ge.isExecuted = me, ge.isSealed = le, ge.isExpired = function (e) {\n  return 5 === e.status;\n};\n\nvar Pe = function (r) {\n  try {\n    var n = setTimeout;\n    return Promise.resolve(e().get(\"fcl.eventPollRate\", 1e4)).then(function (e) {\n      return n(function () {\n        return r.sendSelf(\"TICK\");\n      }, e);\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    be = ((ce = {}).TICK = function (e) {\n  try {\n    if (!e.hasSubs()) return Promise.resolve();\n\n    var r = e.get(\"hwm\"),\n        n = function () {\n      if (null == r) {\n        var n = e.put;\n        return Promise.resolve(a()).then(function (r) {\n          n.call(e, \"hwm\", r);\n          var t = e.put;\n          return Promise.resolve(Pe(e)).then(function (r) {\n            t.call(e, \"tick\", r);\n          });\n        });\n      }\n\n      return Promise.resolve(a()).then(function (n) {\n        return e.put(\"hwm\", n), Promise.resolve(k([getEvents(e.self(), r.height, n.height - 1)]).then(E)).then(function (r) {\n          for (var n, t = F(r); !(n = t()).done;) e.broadcast(\"UPDATED\", n.value.data);\n\n          var o = e.put;\n          return Promise.resolve(Pe(e)).then(function (r) {\n            o.call(e, \"tick\", r);\n          });\n        });\n      });\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {}) : void 0);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, ce[p] = function (e, r) {\n  try {\n    var n = function () {\n      e.subscribe(r.from);\n    },\n        t = function () {\n      if (!e.hasSubs()) {\n        var r = e.put;\n        return Promise.resolve(Pe(e)).then(function (n) {\n          r.call(e, \"tick\", n);\n        });\n      }\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(n) : n());\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, ce[v] = function (e, r) {\n  e.unsubscribe(r.from), e.hasSubs() || (clearTimeout(e.get(\"tick\")), e.delete(\"tick\"), e.delete(\"hwm\"));\n}, ce),\n    we = function (e) {\n  return P(be, e);\n};\n\nfunction ke(e) {\n  return {\n    subscribe: function (r) {\n      return g(e, we, r);\n    }\n  };\n}\n\nvar Ee = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\"\n},\n    Ie = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\"\n},\n    Se = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\"\n},\n    xe = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\"\n},\n    Ae = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\"\n};\n\nfunction Re(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return _({\n        old: e\n      }, Ee, {\n        type: \"frame\",\n        endpoint: e.endpoint,\n        params: e.params || {},\n        data: e.data || {}\n      });\n  }\n}\n\nfunction je(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return _({}, Ee, {\n        type: \"back-channel-rpc\",\n        endpoint: e.endpoint,\n        method: e.method,\n        params: e.params || {},\n        data: e.data || {}\n      });\n  }\n}\n\nvar Ce = {\n  \"back-channel-rpc\": je,\n  \"pre-authz\": function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return _({}, Ee, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.endpoint,\n          method: e.method,\n          identity: _({}, Ie, {\n            address: f(e.addr),\n            keyId: e.keyId\n          }),\n          params: e.params,\n          data: e.data\n        });\n    }\n  },\n  authz: function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return _({}, Ee, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.endpoint,\n          method: e.method,\n          identity: _({}, Ie, {\n            address: f(e.addr),\n            keyId: e.keyId\n          }),\n          params: e.params,\n          data: e.data\n        });\n    }\n  },\n  authn: function (e) {\n    if (null == e) return null;\n\n    switch (e.f_vsn) {\n      case \"1.0.0\":\n        return e;\n\n      default:\n        return _({}, Ee, {\n          type: e.type,\n          uid: e.id,\n          endpoint: e.authn,\n          id: e.pid,\n          provider: {\n            address: f(e.addr),\n            name: e.name,\n            icon: e.icon\n          }\n        });\n    }\n  },\n  frame: Re\n};\n\nfunction Ne(e) {\n  return d([e.provider.address || e.provider.name || \"UNSPECIFIED\", e.id]).toString(\"hex\");\n}\n\nfunction Te(e, r) {\n  return void 0 === e && (e = []), e.find(function (e) {\n    return e.type === r;\n  });\n}\n\nfunction Le(e) {\n  var r = new URL(e.endpoint);\n  if (r.searchParams.append(\"l6n\", window.location.origin), null != e.params) for (var n = 0, t = Object.entries(e.params || {}); n < t.length; n++) {\n    var o = t[n];\n    r.searchParams.append(o[0], o[1]);\n  }\n  return r;\n}\n\nfunction Oe(e, r) {\n  void 0 === r && (r = {});\n  var n = r.method || \"POST\",\n      t = \"GET\" === n ? void 0 : JSON.stringify(r.data || e.data || {});\n  return fetch(Le(e), {\n    method: n,\n    headers: _({}, e.headers || {}, r.headers || {}, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: t\n  }).then(function (e) {\n    return e.json();\n  });\n}\n\nfunction ze(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return _({}, xe, {\n        status: e.status,\n        reason: e.reason,\n        data: e.compositeSignature || e.data || {},\n        updates: je(e.authorizationUpdates),\n        local: Re((e.local || [])[0])\n      });\n  }\n}\n\nfunction _e(e) {\n  if (null == e) return null;\n\n  switch (e.f_vsn) {\n    case \"1.0.0\":\n      return e;\n\n    default:\n      return _({}, Ae, {\n        addr: c(e.addr || e.address),\n        signature: e.signature || e.sig,\n        keyId: e.keyId\n      });\n  }\n}\n\nvar De = \"FCL_IFRAME\",\n    Fe = function () {},\n    Ue = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]);\n\nfunction Be(e, r) {\n  if (void 0 === r && (r = {}), console.log(\"FRAME\", {\n    service: e,\n    opts: r\n  }), null == e) return {\n    send: Fe,\n    close: Fe\n  };\n  var n = r.onClose || Fe,\n      t = r.onMessage || Fe,\n      o = r.onReady || Fe;\n  window.addEventListener(\"message\", c);\n\n  var i = function (e) {\n    u(!document.getElementById(De), \"Attempt at triggering multiple Frames\", {\n      src: e\n    });\n    var r = document.createElement(\"iframe\");\n    return r.src = e, r.id = De, r.allow = \"usb *\", r.frameBorder = \"0\", r.style.cssText = \"\\n  position:fixed;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  height: 100vh;\\n  width: 100vw;\\n  display:block;\\n  background:rgba(0,0,0,0.25);\\n  z-index: 2147483647;\\n  box-sizing: border-box;\\n\", document.body.append(r), [r, function () {\n      document.getElementById(De) && document.getElementById(De).remove();\n    }];\n  }(Le(e)),\n      a = i[0],\n      s = i[1];\n\n  return {\n    send: d,\n    close: f\n  };\n\n  function c(e) {\n    try {\n      if (\"object\" != typeof e.data) return;\n      if (Ue.has(e.data.type)) return;\n      \"FCL:FRAME:CLOSE\" === e.data.type && f(), \"FCL:FRAME:READY\" === e.data.type && o(e, {\n        send: d,\n        close: f\n      }), t(e, {\n        send: d,\n        close: f\n      }), \"FCL::AUTHZ_READY\" === e.data.type && o(e, {\n        send: d,\n        close: f\n      }), \"FCL::CHALLENGE::CANCEL\" === e.data.type && f(), \"FCL::CANCEL\" === e.data.type && f();\n    } catch (e) {\n      console.error(\"Frame Callback Error\", e), f();\n    }\n  }\n\n  function f() {\n    try {\n      window.removeEventListener(\"message\", c), s(), n();\n    } catch (e) {\n      console.error(\"Frame Close Error\", e);\n    }\n  }\n\n  function d(e) {\n    try {\n      console.log(\"SEND\", e), a.contentWindow.postMessage(JSON.parse(JSON.stringify(e || {})), \"*\");\n    } catch (r) {\n      console.error(\"Frame Send Error\", e, r);\n    }\n  }\n}\n\nvar Me,\n    He = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\"\n},\n    Je = function (e) {\n  return u(He[e.method], \"Invalid Service Method for type back-channel-rpc\", {\n    service: e\n  }), He[e.method];\n},\n    qe = function (e, r) {\n  try {\n    return r.data = e.data, Promise.resolve(Oe(e, {\n      data: r\n    }).then(ze)).then(function (r) {\n      if (\"APPROVED\" === r.status) return r.data;\n      if (\"DECLINED\" === r.status) throw new Error(\"Declined: \" + (r.reason || \"No reason supplied.\"));\n\n      if (\"PENDING\" === r.status) {\n        var n = !0,\n            t = Be(r.local, {\n          onClose: function () {\n            n = !1;\n          }\n        }).close;\n        return function e(r, n) {\n          void 0 === n && (n = function () {\n            return !0;\n          });\n\n          try {\n            if (u(r, \"Missing Polling Service\", {\n              service: r\n            }), !n()) throw new Error(\"Externally Halted\");\n            return Promise.resolve(Oe(r, {\n              method: Je(r)\n            }).then(ze)).then(function (r) {\n              switch (r.status) {\n                case \"APPROVED\":\n                  return r.data;\n\n                case \"DECLINED\":\n                  throw new Error(\"Declined: \" + (r.reason || \"No reason supplied.\"));\n\n                default:\n                  return Promise.resolve(new Promise(function (e) {\n                    return setTimeout(e, 500);\n                  })).then(function () {\n                    return e(r.updates, n);\n                  });\n              }\n            });\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }(r.updates, function () {\n          return n;\n        }).then(function (e) {\n          return t(), _e(e);\n        }).catch(function (e) {\n          throw console.error(e), t(), e;\n        });\n      }\n\n      throw console.error(\"Auto Decline: Invalid Response\", {\n        service: e,\n        resp: r\n      }), new Error(\"Auto Decline: Invalid Response\");\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Ke = function (e, r) {\n  try {\n    try {\n      return Promise.resolve(Ge[e.method](e, r));\n    } catch (n) {\n      throw console.error(\"execService(service, msg)\", n, {\n        service: e,\n        msg: r\n      }), n;\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Ge = {\n  \"HTTP/RPC\": qe,\n  \"HTTP/POST\": qe,\n  \"IFRAME/RPC\": function (e, r) {\n    return new Promise(function (n, t) {\n      var o = S();\n      r.data = e.data, Be(e, {\n        onReady: function (n, t) {\n          var i = t.send;\n\n          try {\n            i({\n              jsonrpc: \"2.0\",\n              id: o,\n              method: \"fcl:sign\",\n              params: [r, e.params]\n            });\n          } catch (e) {\n            throw e;\n          }\n        },\n        onClose: function () {\n          t(\"Declined: Externally Halted\");\n        },\n        onMessage: function (e, r) {\n          var i = r.close;\n\n          try {\n            if (\"object\" != typeof e.data) return;\n            if (\"2.0\" !== e.data.jsonrpc) return;\n            if (e.data.id !== o) return;\n            var u = ze(e.data.result);\n\n            switch (u.status) {\n              case \"APPROVED\":\n                n(_e(u.data)), i();\n                break;\n\n              case \"DECLINED\":\n                t(\"Declined: \" + (u.reason || \"No reason supplied\")), i();\n                break;\n\n              default:\n                t(\"Declined: No reason supplied\"), i();\n            }\n          } catch (e) {\n            throw console.error(\"execIframeRPC onMessage error\", e), e;\n          }\n        }\n      });\n    });\n  }\n};\n\nfunction Ve(e, r, n) {\n  if (!e.s) {\n    if (n instanceof Ze) {\n      if (!n.s) return void (n.o = Ve.bind(null, e, r));\n      1 & r && (r = n.s), n = n.v;\n    }\n\n    if (n && n.then) return void n.then(Ve.bind(null, e, r), Ve.bind(null, e, 2));\n    e.s = r, e.v = n;\n    var t = e.o;\n    t && t(e);\n  }\n}\n\nvar Ye = function (e) {\n  try {\n    return sr(), Promise.resolve(We()).then(function (r) {\n      var n = Te(r.services, \"authz\"),\n          t = Te(r.services, \"pre-authz\");\n      return _({}, e, t ? {\n        tempId: \"CURRENT_USER\",\n        resolve: function (e, r) {\n          try {\n            return Promise.resolve(Ke(t, r)).then(dr);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }\n      } : {\n        tempId: \"CURRENT_USER\",\n        resolve: null,\n        addr: c(n.identity.address),\n        keyId: n.identity.keyId,\n        sequenceNum: null,\n        signature: null,\n        signingFunction: function (e) {\n          try {\n            return Promise.resolve(Ke(n, e));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Ze = function () {\n  function e() {}\n\n  return e.prototype.then = function (r, n) {\n    var t = new e(),\n        o = this.s;\n\n    if (o) {\n      var i = 1 & o ? r : n;\n\n      if (i) {\n        try {\n          Ve(t, 1, i(this.v));\n        } catch (e) {\n          Ve(t, 2, e);\n        }\n\n        return t;\n      }\n\n      return this;\n    }\n\n    return this.o = function (e) {\n      try {\n        var o = e.v;\n        1 & e.s ? Ve(t, 1, r ? r(o) : o) : n ? Ve(t, 1, n(o)) : Ve(t, 2, o);\n      } catch (e) {\n        Ve(t, 2, e);\n      }\n    }, t;\n  }, e;\n}();\n\nfunction Xe(e) {\n  return e instanceof Ze && 1 & e.s;\n}\n\nvar We = function () {\n  try {\n    return Promise.resolve(new Promise(function (r) {\n      try {\n        return sr(), Promise.resolve(mr()).then(function (n) {\n          return n.loggedIn && cr(n) ? r(n) : Promise.resolve(e().get(\"challenge.handshake\")).then(function (e) {\n            var n,\n                t,\n                o,\n                i = (n = {\n              handshake: e,\n              l6n: window.location.origin\n            }, t = n.l6n, (o = new URL(n.handshake)).searchParams.append(\"l6n\", t), function (e) {\n              if (!document.getElementById(\"FCL_IFRAME\")) {\n                var r = document.createElement(\"iframe\");\n                return r.src = e, r.id = \"FCL_IFRAME\", r.allow = \"usb *\", r.frameBorder = \"0\", r.style.cssText = \"\\n    position:fixed;\\n    top: 0px;\\n    right: 0px;\\n    bottom: 0px;\\n    left: 0px;\\n    height: 100vh;\\n    width: 100vw;\\n    display:block;\\n    background:rgba(0,0,0,0.25);\\n    z-index: 2147483647;\\n    box-sizing: border-box;\\n  \", document.body.append(r), [r, function () {\n                  document.getElementById(\"FCL_IFRAME\") && document.getElementById(\"FCL_IFRAME\").remove();\n                }];\n              }\n            }(o.href))[1];\n            window.addEventListener(\"message\", function e(n) {\n              var t = n.data;\n\n              try {\n                return t.type === tr || t.type === rr ? (i(), window.removeEventListener(\"message\", e), Promise.resolve()) : t.type !== nr ? Promise.resolve() : (i(), window.removeEventListener(\"message\", e), Promise.resolve(function (e) {\n                  try {\n                    var r = (e = function (e) {\n                      return e.addr = e.addr ? f(e.addr) : null, e.paddr = e.paddr ? f(e.paddr) : null, e;\n                    }(e)).services || [];\n\n                    return Promise.resolve(function (e, r) {\n                      try {\n                        if (null == e || null == r) return Promise.resolve([]);\n                        var n = new URL(e);\n                        return n.searchParams.append(\"code\", r), Promise.resolve(fetch(n, {\n                          method: \"GET\",\n                          headers: {\n                            \"Content-Type\": \"application/json\"\n                          }\n                        }).then(function (e) {\n                          return e.json();\n                        })).then(function (e) {\n                          if (Array.isArray(e)) return e;\n                          var r = [];\n                          if (Array.isArray(e.authorizations)) for (var n, t = F(e.authorizations); !(n = t()).done;) r.push(_({\n                            type: \"authz\",\n                            keyId: e.keyId\n                          }, n.value));\n                          return null != e.provider && r.push(_({\n                            type: \"authn\",\n                            id: \"wallet-provider#authn\"\n                          }, e.provider)), r;\n                        });\n                      } catch (e) {\n                        return Promise.reject(e);\n                      }\n                    }(e.hks, e.code)).then(function (n) {\n                      var t,\n                          o,\n                          i = (t = r, o = n, void 0 === t && (t = []), void 0 === o && (o = []), [].concat(t, o)).map(function (r) {\n                        return function (e, r) {\n                          try {\n                            return Ce[e.type](e, r);\n                          } catch (r) {\n                            return console.error(\"Unrecognized FCL Service Type [\" + e.type + \"]\", e, r), e;\n                          }\n                        }(r, e);\n                      }),\n                          u = function (e, r) {\n                        return r.find(function (e) {\n                          return \"authn\" === e.type;\n                        });\n                      }(0, i);\n\n                      return _({}, Se, {\n                        addr: f(e.addr),\n                        cid: Ne(u),\n                        loggedIn: !0,\n                        services: i,\n                        expiresAt: e.exp\n                      });\n                    });\n                  } catch (e) {\n                    return Promise.reject(e);\n                  }\n                }(t)).then(function (e) {\n                  return w($e, er, e), Promise.resolve(mr()).then(function (e) {\n                    r(e);\n                  });\n                }));\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            });\n          });\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    $e = \"CURRENT_USER\",\n    Qe = \"CURRENT_USER/UPDATED\",\n    er = \"SET_CURRENT_USER\",\n    rr = \"FCL::CANCEL\",\n    nr = \"FCL::CHALLENGE::RESPONSE\",\n    tr = \"FCL::CHALLENGE::CANCEL\",\n    or = '{\\n  \"f_type\": \"User\",\\n  \"f_vsn\": \"1.0.0\",\\n  \"addr\":null,\\n  \"cid\":null,\\n  \"loggedIn\":null,\\n  \"expiresAt\":null,\\n  \"services\":[]\\n}',\n    ir = function (e) {\n  try {\n    return sessionStorage.setItem($e, JSON.stringify(e)), Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    ur = function () {\n  return e().get(\"persistSession\", !0);\n},\n    ar = ((Me = {})[m] = function (e) {\n  try {\n    return e.merge(JSON.parse(or)), Promise.resolve(ur()).then(function (r) {\n      var n = function () {\n        if (r) return Promise.resolve(function () {\n          try {\n            var e = JSON.parse(or),\n                r = JSON.parse(sessionStorage.getItem($e));\n            return null != r && e.f_vsn !== r.f_vsn ? (sessionStorage.removeItem($e), Promise.resolve(e)) : Promise.resolve(r || e);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }()).then(function (r) {\n          cr(r) && e.merge(r);\n        });\n      }();\n\n      if (n && n.then) return n.then(function () {});\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, Me[p] = function (e, r) {\n  e.subscribe(r.from), e.send(r.from, Qe, _({}, e.all()));\n}, Me[v] = function (e, r) {\n  e.unsubscribe(r.from);\n}, Me.SNAPSHOT = function (e, r) {\n  try {\n    return r.reply(_({}, e.all())), Promise.resolve();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, Me[er] = function (e, r, n) {\n  try {\n    return e.merge(n), Promise.resolve(ur()).then(function (r) {\n      r && ir(e.all()), e.broadcast(Qe, _({}, e.all()));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, Me.DEL_CURRENT_USER = function (e, r) {\n  try {\n    return e.merge(JSON.parse(or)), Promise.resolve(ur()).then(function (r) {\n      r && ir(e.all()), e.broadcast(Qe, _({}, e.all()));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, Me),\n    sr = function () {\n  return P(ar, $e);\n};\n\nfunction cr(e) {\n  return null == e.expiresAt || 0 === e.expiresAt || e.expiresAt > Date.now();\n}\n\nfunction fr() {\n  sr(), w($e, \"DEL_CURRENT_USER\");\n}\n\nfunction dr(e) {\n  var r = function (e) {\n    return {\n      f_type: \"PreAuthzResponse\",\n      f_vsn: \"1.0.0\",\n      proposer: (e || {}).proposer,\n      payer: (e || {}).payer || [],\n      authorization: (e || {}).authorization || []\n    };\n  }(e),\n      n = [];\n\n  null != r.proposer && n.push([\"PROPOSER\", r.proposer]);\n\n  for (var t, o = F(r.payer || []); !(t = o()).done;) n.push([\"PAYER\", t.value]);\n\n  for (var i, u = F(r.authorization || []); !(i = u()).done;) n.push([\"AUTHORIZER\", i.value]);\n\n  return n.map(function (e) {\n    var r = e[0],\n        n = e[1];\n    return {\n      tempId: [n.identity.address, n.identity.keyId].join(\"|\"),\n      addr: n.identity.address,\n      keyId: n.identity.keyId,\n      signingFunction: function (e) {\n        return Ke(n, e);\n      },\n      role: {\n        proposer: \"PROPOSER\" === r,\n        payer: \"PAYER\" === r,\n        authorizer: \"AUTHORIZER\" === r\n      }\n    };\n  });\n}\n\nfunction lr(e) {\n  sr();\n  var r = P(function (r) {\n    try {\n      var n;\n      return r.send($e, p), Promise.resolve(function (e, r, n) {\n        for (var t;;) {\n          var o = e();\n          if (Xe(o) && (o = o.v), !o) return i;\n\n          if (o.then) {\n            t = 0;\n            break;\n          }\n\n          var i = n();\n\n          if (i && i.then) {\n            if (!Xe(i)) {\n              t = 1;\n              break;\n            }\n\n            i = i.s;\n          }\n        }\n\n        var u = new Ze(),\n            a = Ve.bind(null, u, 2);\n        return (0 === t ? o.then(c) : 1 === t ? i.then(s) : (void 0).then(function () {\n          (o = e()) ? o.then ? o.then(c).then(void 0, a) : c(o) : Ve(u, 1, i);\n        })).then(void 0, a), u;\n\n        function s(r) {\n          i = r;\n\n          do {\n            if (!(o = e()) || Xe(o) && !o.v) return void Ve(u, 1, i);\n            if (o.then) return void o.then(c).then(void 0, a);\n            Xe(i = n()) && (i = i.v);\n          } while (!i || !i.then);\n\n          i.then(s).then(void 0, a);\n        }\n\n        function c(e) {\n          e ? (i = n()) && i.then ? i.then(s).then(void 0, a) : s(i) : Ve(u, 1, i);\n        }\n      }(function () {\n        return !n && 1;\n      }, 0, function () {\n        return Promise.resolve(r.receive()).then(function (t) {\n          if (\"@EXIT\" === t.tag) return r.send($e, v), void (n = 1);\n          e(t.data);\n        });\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  });\n  return function () {\n    return w(r, \"@EXIT\");\n  };\n}\n\nfunction mr() {\n  return sr(), w($e, \"SNAPSHOT\", null, {\n    expectReply: !0,\n    timeout: 0\n  });\n}\n\nvar pr = function () {\n  return {\n    authenticate: We,\n    unauthenticate: fr,\n    authorization: Ye,\n    subscribe: lr,\n    snapshot: mr\n  };\n},\n    hr = function () {\n  return pr().authenticate();\n},\n    vr = function () {\n  return pr().unauthenticate();\n},\n    yr = function () {\n  return pr().unauthenticate(), pr().authenticate();\n},\n    gr = function () {\n  return pr().authenticate();\n},\n    Pr = function () {\n  return pr().authenticate();\n},\n    br = pr().authorization,\n    wr = \"0.0.67\";\n\nexport { wr as VERSION, hr as authenticate, br as authz, pr as currentUser, ke as events, Pr as logIn, yr as reauthenticate, fe as serialize, gr as signUp, ge as tx, vr as unauthenticate };","map":{"version":3,"sources":["../src/default-config.js","../src/resolvers/resolve-cadence.js","../src/resolvers/resolve-arguments.js","../src/resolvers/resolve-accounts.js","../node_modules/@onflow/encode/dist/encode.module.js","../src/resolvers/resolve-signatures.js","../src/temp.js","../src/resolvers/resolve-final-normalization.js","../src/serialize/index.js","../src/transaction/index.js","../src/events/index.js","../src/current-user/normalize/__vsn.js","../src/current-user/normalize/frame.js","../src/current-user/normalize/back-channel-rpc.js","../src/current-user/normalize/service.js","../src/current-user/normalize/pre-authz.js","../src/current-user/normalize/authz.js","../src/current-user/normalize/authn.js","../src/current-user/build-user.js","../src/current-user/service-of-type.js","../src/current-user/exec-service/strategies/utils/service-endpoint.js","../src/current-user/exec-service/strategies/utils/fetch-service.js","../src/current-user/normalize/polling-response.js","../src/current-user/normalize/composite-signature.js","../src/current-user/exec-service/strategies/utils/render-frame.js","../src/current-user/exec-service/strategies/utils/frame.js","../src/current-user/exec-service/strategies/utils/poll.js","../src/current-user/exec-service/strategies/http-post.js","../src/current-user/exec-service/index.js","../src/current-user/exec-service/strategies/iframe-rpc.js","../src/current-user/index.js","../src/current-user/render-authn-frame.js","../src/current-user/render-frame.js","../src/current-user/fetch-services.js","../src/current-user/merge-services.js","../src/fcl.js"],"names":["config","put","isFn","v","isString","ix","isTransaction","isScript","cadence","get","invariant","message","where","then","Object","entries","d","reduce","replace","cast","arg","xform","value","asArgument","arguments","_Pact","prototype","onFulfilled","onRejected","result","state","this","s","acct","callback","f_type","f_vsn","_settle","roles","role","e","args","map","data","interaction","error","console","o","_this","collectAccounts","accounts","last","depth","authorizations","ax","old","resolve","buildPreSignable","Array","isArray","tempId","proposer","payer","authorizer","pact","bind","observer","thenable","prev","curr","values","array","body","check","i","reject","_cycle","length","_isSettledPact","Symbol","iterator","target","step","next","done","_fixup","TypeError","push","recover","n","c","a","t","Buffer","from","padStart","u","JSON","stringify","toString","r","script","refBlock","gasLimit","proposalKey","address","keyId","sequenceNum","authorizers","p","f","payloadSigs","signerIndex","sig","sort","Map","has","set","forEach","k","g","I","x","l","m","h","y","name","defaultVal","K","S","E","Error","insideSigners","findInsideSigners","insidePayload","prepForEncoding","Promise","all","fetchSignature","outsideSigners","findOutsideSigners","outsidePayload","encodeOutsideMessage","id","addr","signature","inside","Set","add","outside","payload","signingFunction","buildSignable","sansPrefix","computeLimit","cid","current","find","item","pipe","_latestBlock","latestBlock","fetchAccount","keys","key","index","sequenceNumber","serialize","opts","resolveFunction","defaultResolve","fetchTxStatus","transactionId","fclSend","getTransactionStatus","decode","tx","status","isSealed","isExecuted","isFinalized","cur","HANDLERS","INIT","ctx","self","setTimeout","sendSelf","merge","SUBSCRIBE","letter","subscribe","send","UPDATED","UNSUBSCRIBE","unsubscribe","SNAPSHOT","reply","broadcast","scoped","spawnTransaction","spawn","transaction","snapshoter","subscriber","once","predicate","suppress","unsub","txStatus","statusCode","errorMessage","snapshot","onceFinalized","onceExecuted","onceSealed","isUnknown","isPending","isExpired","scheduleTick","hasSubs","hwm","getEvents","height","clearTimeout","spawnEvents","events","SERVICE_PRAGMA","IDENTITY_PRAGMA","USER_PRAGMA","POLLING_RESPONSE_PRAGMA","COMPOSITE_SIGNATURE_PRAGMA","normalizeFrame","service","type","endpoint","params","normalizeBackChannelRpc","method","serviceNormalizers","back-channel-rpc","pre-authz","authz","authn","frame","uid","identity","withPrefix","pid","provider","icon","deriveCompositeId","rlp","paddr","services","normalizeData","fetchServices","hks","code","normalizeService","findService","loggedIn","expiresAt","exp","serviceOfType","serviceEndpoint","url","URL","searchParams","append","window","location","origin","fetchService","undefined","fetch","headers","Content-Type","json","normalizePollingResponse","resp","reason","compositeSignature","updates","authorizationUpdates","local","normalizeCompositeSignature","FRAME","src","document","getElementById","$frame","createElement","allow","frameBorder","style","cssText","remove","noop","IGNORE","log","close","onClose","onMessage","onReady","addEventListener","internal","unmount","renderFrame","removeEventListener","msg","contentWindow","postMessage","parse","OPTIONS","HTTP/GET","HTTP/POST","serviceMethod","poll","canContinue","execHttpPost","signable","closeFrame","STRATEGIES","HTTP/RPC","IFRAME/RPC","execService","_","jsonrpc","NAME","SET_CURRENT_USER","CANCEL_EVENT","CHALLENGE_RESPONSE_EVENT","CHALLENGE_CANCEL_EVENT","DATA","coldStorage","fallback","stored","sessionStorage","getItem","removeItem","setItem","canColdStorage","user","notExpired","spawnCurrentUser","Date","now","authenticate","unrender","handshake","l6n","replyFn","buildUser","unauthenticate","authorization","resolvePreAuthz","normalizePreAuthzResponse","axs","az","join","account","preAuthz","preSignable","receive","tag","_exit2","expectReply","timeout","currentUser","test","update","stage","shouldContinue","updateValue","_resumeAfterTest","_resumeAfterBody","href","servicesURL","sx1","sx2","reauthenticate","signUp","logIn","VERSION"],"mappings":"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","sourcesContent":["import {config} from \"@onflow/config\"\n\nconfig()\n  .put(\"accessNode.api\", \"http://localhost:8080\")\n  .put(\"challenge.handshake\", \"http://localhost:8700/authenticate\")\n","import {isTransaction, isScript, get} from \"@onflow/interaction\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce(\n          (cadence, [key, value]) => cadence.replace(key, value),\n          cadence\n        )\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"@onflow/interaction\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      ix.arguments[id].asArgument = cast(arg)\n    }\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"@onflow/interaction\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.0\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    var old = last || ax\n    if (isFn(ax.resolve)) ax = await ax.resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer && ix.payer === old.tempId) {\n        ix.payer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = [...authorizations, ax.tempId]\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import{encode as n}from\"@onflow/rlp\";var e=function(n){return c(a(n))},r=function(n){return c(i(n))},t=function(n,e){return Buffer.from(n.padStart(2*e,0),\"hex\")},o=function(n){return t(n,8)},u=function(n){return Buffer.from(JSON.stringify(n),\"utf8\")},c=function(e){return n(e).toString(\"hex\")},a=function(n){return d(n),[(r=n.script,Buffer.from(r,\"utf8\")),n.arguments.map(u),(e=n.refBlock,t(e,32)),n.gasLimit,o(n.proposalKey.address),n.proposalKey.keyId,n.proposalKey.sequenceNum,o(n.payer),n.authorizers.map(o)];var e,r},i=function(n){return p(n),[a(n),f(n)]},f=function(n){var e=s(n);return n.payloadSigs.map(function(n){return{signerIndex:e.get(n.address),keyId:n.keyId,sig:n.sig}}).sort(function(n,e){return n.signerIndex>e.signerIndex?1:n.signerIndex<e.signerIndex?-1:n.keyId>e.keyId?1:n.keyId<e.keyId?-1:void 0}).map(function(n){return[n.signerIndex,n.keyId,(e=n.sig,Buffer.from(e,\"hex\"))];var e})},s=function(n){var e=new Map,r=0,t=function(n){e.has(n)||(e.set(n,r),r++)};return t(n.proposalKey.address),t(n.payer),n.authorizers.forEach(t),e},d=function(n){k.forEach(function(e){return v(n,e)}),g.forEach(function(e){return v(n.proposalKey,e,\"proposalKey\")})},p=function(n){I.forEach(function(e){return v(n,e)}),n.payloadSigs.forEach(function(n,e){x.forEach(function(r){return v(n,r,\"payloadSigs\",e)})})},l=function(n){return\"number\"==typeof n},m=function(n){return\"string\"==typeof n},h=function(n){return null!==n&&\"object\"==typeof n},y=function(n){return h(n)&&n instanceof Array},k=[{name:\"script\",check:m},{name:\"arguments\",check:y},{name:\"refBlock\",check:m,defaultVal:\"0\"},{name:\"gasLimit\",check:l},{name:\"proposalKey\",check:h},{name:\"payer\",check:m},{name:\"authorizers\",check:y}],g=[{name:\"address\",check:m},{name:\"keyId\",check:l},{name:\"sequenceNum\",check:l}],I=[{name:\"payloadSigs\",check:y}],x=[{name:\"address\",check:m},{name:\"keyId\",check:l},{name:\"sig\",check:m}],v=function(n,e,r,t){var o=e.name,u=e.check,c=e.defaultVal;if(null==n[o]&&null!=c&&(n[o]=c),null==n[o])throw K(o,r,t);if(!u(n[o]))throw S(o,r,t)},E=function(n,e,r){return e?null==r?e+\".\"+n:e+\".\"+r+\".\"+n:n},K=function(n,e,r){return new Error(\"Missing field \"+E(n,e,r))},S=function(n,e,r){return new Error(\"Invalid field \"+E(n,e,r))};export{r as encodeTransactionEnvelope,e as encodeTransactionPayload};\n//# sourceMappingURL=encode.module.js.map\n","import {isTransaction} from \"@onflow/interaction\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"@onflow/encode\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  inside.delete(ix.payer)\n  return Array.from(inside)\n}\n\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set([ix.payer])\n  return Array.from(outside)\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    // if (!acct.role.proposer) {\n    //   ix.accounts[id].keyId = keyId\n    // }\n    ix.accounts[id].signature = signature\n  }\n}\n\nfunction buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.0\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  return {\n    script: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    gasLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: sansPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {pipe} from \"@onflow/interaction\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"@onflow/interaction\"\nimport {latestBlock} from \"@onflow/sdk-latest-block\"\nimport {account as fetchAccount} from \"@onflow/sdk-account\"\n\nimport {resolveCadence} from \"./resolvers/resolve-cadence.js\"\nimport {resolveArguments} from \"./resolvers/resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolvers/resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolvers/resolve-signatures.js\"\nimport {resolveFinalNormalization} from \"./resolvers/resolve-final-normalization.js\"\n\nexport const resolve = pipe([\n  resolveCadence,\n  resolveArguments,\n  resolveAccounts,\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  resolveFinalNormalization,\n])\n\nconfig().put(\"sdk.resolve\", resolve)\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    ix.message.refBlock = (await latestBlock()).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      ix.accounts[acct.tempId].sequenceNum = await fetchAccount(acct.addr)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {interaction, pipe} from \"@onflow/interaction\"\nimport {resolve as defaultResolve} from \"@onflow/sdk-resolve\"\nimport {config} from \"@onflow/config\"\n\nexport const serialize = async (args = [], opts = {}) => {\n  // prettier-ignore\n  const resolveFunction = await config()\n    .get(\"sdk.resolve\", opts.resolve || defaultResolve(opts))\n\n  if (Array.isArray(args)) args = await pipe(interaction(), args)\n  return JSON.stringify(await resolveFunction(args), null, 2)\n}\n","import \"../default-config\"\nimport {config} from \"@onflow/config\"\nimport {\n  spawn,\n  send,\n  subscriber,\n  snapshoter,\n  UPDATED,\n  SNAPSHOT,\n  INIT,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n} from \"@onflow/util-actor\"\nimport {send as fclSend} from \"@onflow/sdk-send\"\nimport {decode} from \"@onflow/sdk-decode\"\nimport {getTransactionStatus} from \"@onflow/sdk-build-transaction-status\"\n\nconst RATE = 2500\nconst POLL = \"POLL\"\n\nconst fetchTxStatus = async (transactionId) => {\n  return fclSend([getTransactionStatus(transactionId)]).then(decode)\n}\n\nconst isExpired = (tx) => tx.status === 5\nconst isSealed = (tx) => tx.status >= 4\nconst isExecuted = (tx) => tx.status >= 3\nconst isFinalized = (tx) => tx.status >= 2\nconst isPending = (tx) => tx.status >= 1\nconst isUnknown = (tx) => tx.status >= 0\n\nconst isDiff = (cur, next) => {\n  return JSON.stringify(cur) !== JSON.stringify(next)\n}\n\nconst HANDLERS = {\n  [INIT]: async (ctx) => {\n    const tx = await fetchTxStatus(ctx.self())\n    if (!isSealed(tx)) setTimeout(() => ctx.sendSelf(POLL), RATE)\n    ctx.merge(tx)\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, ctx.all())\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply(ctx.all())\n  },\n  [POLL]: async (ctx) => {\n    const tx = await fetchTxStatus(ctx.self())\n    if (!isSealed(tx)) setTimeout(() => ctx.sendSelf(POLL), RATE)\n    if (isDiff(ctx.all(), tx)) ctx.broadcast(UPDATED, tx)\n    ctx.merge(tx)\n  },\n}\n\nconst scoped = (transactionId) => {\n  if (typeof transactionId === \"object\")\n    transactionId = transactionId.transactionId\n  if (transactionId == null) throw new Error(\"transactionId required\")\n  return transactionId\n}\n\nconst spawnTransaction = (transactionId) => {\n  return spawn(HANDLERS, scoped(transactionId))\n}\n\nexport function transaction(transactionId) {\n  function snapshot() {\n    return snapshoter(transactionId, spawnTransaction)\n  }\n\n  function subscribe(callback) {\n    return subscriber(scoped(transactionId), spawnTransaction, callback)\n  }\n\n  function once(predicate) {\n    return function innerOnce(opts = {}) {\n      const suppress = opts.suppress || false\n      return new Promise((resolve, reject) => {\n        const unsub = subscribe((txStatus) => {\n          if (txStatus.statusCode && !suppress) {\n            reject(txStatus.errorMessage)\n            unsub()\n          } else if (predicate(txStatus)) {\n            resolve(txStatus)\n            unsub()\n          }\n        })\n      })\n    }\n  }\n\n  return {\n    snapshot,\n    subscribe,\n    onceFinalized: once(isFinalized),\n    onceExecuted: once(isExecuted),\n    onceSealed: once(isSealed),\n  }\n}\n\ntransaction.isUnknown = isUnknown\ntransaction.isPending = isPending\ntransaction.isFinalized = isFinalized\ntransaction.isExecuted = isExecuted\ntransaction.isSealed = isSealed\ntransaction.isExpired = isExpired\n","import {spawn, subscriber, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {config} from \"@onflow/config\"\nimport {latestBlock} from \"@onflow/sdk-latest-block\"\nexport {getEvents} from \"@onflow/sdk-build-get-events\"\nimport {send} from \"@onflow/sdk-send\"\nimport {decode} from \"@onflow/sdk-decode\"\n\nconst RATE = 10000\nconst UPDATED = \"UPDATED\"\nconst TICK = \"TICK\"\n\nconst scheduleTick = async ctx => {\n  return setTimeout(\n    () => ctx.sendSelf(TICK),\n    await config().get(\"fcl.eventPollRate\", RATE)\n  )\n}\n\nconst HANDLERS = {\n  [TICK]: async ctx => {\n    if (!ctx.hasSubs()) return\n    let hwm = ctx.get(\"hwm\")\n    if (hwm == null) {\n      ctx.put(\"hwm\", await latestBlock())\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    } else {\n      let next = await latestBlock()\n      ctx.put(\"hwm\", next)\n      const data = await send([\n        getEvents(ctx.self(), hwm.height, next.height - 1),\n      ]).then(decode)\n      for (let d of data) ctx.broadcast(UPDATED, d.data)\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    }\n  },\n  [SUBSCRIBE]: async (ctx, letter) => {\n    if (!ctx.hasSubs()) {\n      ctx.put(\"tick\", await scheduleTick(ctx))\n    }\n    ctx.subscribe(letter.from)\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n    if (!ctx.hasSubs()) {\n      clearTimeout(ctx.get(\"tick\"))\n      ctx.delete(\"tick\")\n      ctx.delete(\"hwm\")\n    }\n  },\n}\n\nconst spawnEvents = key => spawn(HANDLERS, key)\n\nexport function events(key) {\n  return {\n    subscribe: callback => subscriber(key, spawnEvents, callback),\n  }\n}\n","export const SERVICE_PRAGMA = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const IDENTITY_PRAGMA = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const PROVIDER_PRAGME = {\n  f_type: \"Provider\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const USER_PRAGMA = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const POLLING_RESPONSE_PRAGMA = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const COMPOSITE_SIGNATURE_PRAGMA = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\",\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"frame\",\n//    \"endpoint\": \"https://rawr\",\n//    \"data\": {},   // Sent to frame when ready\n//    \"params\": {}, // include in query params on frame\n// }\nexport function normalizeFrame(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        old: service,\n        ...SERVICE_PRAGMA,\n        type: \"frame\",\n        endpoint: service.endpoint,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"back-channel-rpc\",\n//    \"endpoint\": \"https://rawr\",\n//    \"method\": \"HTTP/GET\", // HTTP/GET | HTTP/POST\n//    \"data\": {},           // included in body of rpc\n//    \"params\": {},         // included as query params on endpoint url\n// }\nexport function normalizeBackChannelRpc(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: \"back-channel-rpc\",\n        endpoint: service.endpoint,\n        method: service.method,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {normalizeAuthn} from \"./authn\"\nimport {normalizeAuthz} from \"./authz\"\nimport {normalizePreAuthz} from \"./pre-authz\"\nimport {normalizeFrame} from \"./frame\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\n\nexport function normalizeServices(services, data) {\n  return services.map((service) => normalizeService(service, data))\n}\n\nconst serviceNormalizers = {\n  \"back-channel-rpc\": normalizeBackChannelRpc,\n  \"pre-authz\": normalizePreAuthz,\n  authz: normalizeAuthz,\n  authn: normalizeAuthn,\n  frame: normalizeFrame,\n}\n\nexport function normalizeService(service, data) {\n  try {\n    var normalized = serviceNormalizers[service.type](service, data)\n    // console.log(service.type, {normalized, service})\n    return normalized\n  } catch (error) {\n    console.error(\n      `Unrecognized FCL Service Type [${service.type}]`,\n      service,\n      error\n    )\n    return service\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"pre-authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of pre-authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizePreAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"identity\": {\n//     \"address\": \"0x____\"\n//   },\n//   \"provider\": {\n//     \"address\": \"0x____\",\n//     \"name\": \"Best Wallet\",\n//     \"description\": \"The Best Wallet\"\n//     \"icon\": \"https://\",\n//   }\n// }\nexport function normalizeAuthn(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.authn,\n        id: service.pid,\n        provider: {\n          address: withPrefix(service.addr),\n          name: service.name,\n          icon: service.icon,\n        },\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport * as rlp from \"@onflow/rlp\"\nimport {fetchServices} from \"./fetch-services\"\nimport {mergeServices} from \"./merge-services\"\nimport {USER_PRAGMA} from \"./normalize/__vsn\"\nimport {normalizeService} from \"./normalize/service\"\n\nfunction deriveCompositeId(authn) {\n  return rlp\n    .encode([\n      authn.provider.address || authn.provider.name || \"UNSPECIFIED\",\n      authn.id,\n    ])\n    .toString(\"hex\")\n}\n\nfunction normalizeData(data) {\n  data.addr = data.addr ? withPrefix(data.addr) : null\n  data.paddr = data.paddr ? withPrefix(data.paddr) : null\n  return data\n}\n\nfunction findService(type, services) {\n  return services.find(d => d.type === type)\n}\n\nexport async function buildUser(data) {\n  data = normalizeData(data)\n\n  var services = mergeServices(\n    data.services || [],\n    await fetchServices(data.hks, data.code)\n  ).map(service => normalizeService(service, data))\n\n  const authn = findService(\"authn\", services)\n\n  return {\n    ...USER_PRAGMA,\n    addr: withPrefix(data.addr),\n    cid: deriveCompositeId(authn),\n    loggedIn: true,\n    services: services,\n    expiresAt: data.exp,\n  }\n}\n","export function serviceOfType(services = [], type) {\n  return services.find(service => service.type === type)\n}\n","export function serviceEndpoint(service) {\n  const url = new URL(service.endpoint)\n  url.searchParams.append(\"l6n\", window.location.origin)\n  if (service.params != null) {\n    for (let [key, value] of Object.entries(service.params || {})) {\n      url.searchParams.append(key, value)\n    }\n  }\n  return url\n}\n","import {serviceEndpoint} from \"./service-endpoint\"\n\nexport function fetchService(service, opts = {}) {\n  const method = opts.method || \"POST\"\n  const body =\n    method === \"GET\"\n      ? undefined\n      : JSON.stringify(opts.data || service.data || {})\n\n  return fetch(serviceEndpoint(service), {\n    method: method,\n    headers: {\n      ...(service.headers || {}),\n      ...(opts.headers || {}),\n      \"Content-Type\": \"application/json\",\n    },\n    body: body,\n  }).then((d) => d.json())\n}\n","import {POLLING_RESPONSE_PRAGMA} from \"./__vsn\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\nimport {normalizeFrame} from \"./frame\"\n\n// {\n//    \"f_type\": \"PollingResponse\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"status\": \"PENDING\", // PENDING | APPROVED | DECLINED\n//    \"reason\": null,      // Reason for Declining Transaction\n//    \"data\": null,        // Return value for APPROVED\n//    \"updates\": BackChannelRpc,\n//    \"local\": Frame,\n// }\nexport function normalizePollingResponse(resp) {\n  if (resp == null) return null\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...POLLING_RESPONSE_PRAGMA,\n        status: resp.status,\n        reason: resp.reason,\n        data: resp.compositeSignature || resp.data || {},\n        updates: normalizeBackChannelRpc(resp.authorizationUpdates),\n        local: normalizeFrame((resp.local || [])[0]),\n      }\n  }\n}\n","import {COMPOSITE_SIGNATURE_PRAGMA} from \"./__vsn\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n// {\n//    \"f_type\": \"CompositeSignature\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"addr\": \"_____\",         // sans-prefix\n//    \"signature\": \"adfe1234\", // hex\n//    \"keyId\": 3,\n// }\nexport function normalizeCompositeSignature(resp) {\n  if (resp == null) return null\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...COMPOSITE_SIGNATURE_PRAGMA,\n        addr: sansPrefix(resp.addr || resp.address),\n        signature: resp.signature || resp.sig,\n        keyId: resp.keyId,\n      }\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\n\nconst FRAME = \"FCL_IFRAME\"\n\nconst FRAME_STYLES = `\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100vh;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n`\n\nexport function renderFrame(src) {\n  invariant(\n    !document.getElementById(FRAME),\n    \"Attempt at triggering multiple Frames\",\n    {src}\n  )\n\n  const $frame = document.createElement(\"iframe\")\n  $frame.src = src\n  $frame.id = FRAME\n  $frame.allow = \"usb *\"\n  $frame.frameBorder = \"0\"\n  $frame.style.cssText = FRAME_STYLES\n  document.body.append($frame)\n\n  const unmount = () => {\n    if (document.getElementById(FRAME)) {\n      document.getElementById(FRAME).remove()\n    }\n  }\n\n  return [$frame, unmount]\n}\n","import {renderFrame} from \"./render-frame\"\nimport {serviceEndpoint} from \"./service-endpoint\"\n\nconst CLOSE_EVENT = \"FCL:FRAME:CLOSE\"\nconst READY_EVENT = \"FCL:FRAME:READY\"\n\nconst noop = () => {}\n\nconst IGNORE = new Set([\n  \"monetizationstart\",\n  \"monetizationpending\",\n  \"monetizationprogress\",\n  \"monetizationstop\",\n])\n\nexport function frame(service, opts = {}) {\n  console.log(\"FRAME\", {service, opts})\n  if (service == null) return {send: noop, close: noop}\n\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n\n  window.addEventListener(\"message\", internal)\n  const [$frame, unmount] = renderFrame(serviceEndpoint(service))\n  return {send, close}\n\n  function internal(e) {\n    try {\n      if (typeof e.data !== \"object\") return\n      if (IGNORE.has(e.data.type)) return\n      if (e.data.type === CLOSE_EVENT) close()\n      if (e.data.type === READY_EVENT) onReady(e, {send, close})\n      onMessage(e, {send, close})\n\n      // Backwards Compatible\n      if (e.data.type === \"FCL::AUTHZ_READY\") onReady(e, {send, close})\n      if (e.data.type === \"FCL::CHALLENGE::CANCEL\") close()\n      if (e.data.type === \"FCL::CANCEL\") close()\n    } catch (error) {\n      console.error(\"Frame Callback Error\", error)\n      close()\n    }\n  }\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", internal)\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Frame Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      console.log(\"SEND\", msg)\n      $frame.contentWindow.postMessage(\n        JSON.parse(JSON.stringify(msg || {})),\n        \"*\"\n      )\n    } catch (error) {\n      console.error(\"Frame Send Error\", msg, error)\n    }\n  }\n}\n","import {normalizePollingResponse} from \"../../../normalize/polling-response\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {fetchService} from \"./fetch-service\"\n\nconst OPTIONS = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\",\n}\n\nconst serviceMethod = service => {\n  invariant(\n    OPTIONS[service.method],\n    \"Invalid Service Method for type back-channel-rpc\",\n    {service}\n  )\n  return OPTIONS[service.method]\n}\n\nconst serviceBody = service => {\n  if (service.method === \"HTTP/GET\") return undefined\n  if (service.method === \"HTTP/POST\" && service.data != null)\n    return JSON.stringify(service.data)\n  return undefined\n}\n\nexport async function poll(service, canContinue = () => true) {\n  invariant(service, \"Missing Polling Service\", {service})\n  if (!canContinue()) throw new Error(\"Externally Halted\")\n\n  const resp = await fetchService(service, {\n    method: serviceMethod(service),\n  }).then(normalizePollingResponse)\n\n  switch (resp.status) {\n    case \"APPROVED\":\n      return resp.data\n    case \"DECLINED\":\n      throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n    default:\n      await new Promise(r => setTimeout(r, 500))\n      return poll(resp.updates, canContinue)\n  }\n}\n","import {fetchService} from \"./utils/fetch-service\"\nimport {serviceEndpoint} from \"./utils/service-endpoint\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {normalizeCompositeSignature} from \"../../normalize/composite-signature\"\nimport {frame} from \"./utils/frame\"\nimport {poll} from \"./utils/poll\"\n\nexport async function execHttpPost(service, signable) {\n  signable.data = service.data\n  const resp = await fetchService(service, {\n    data: signable,\n  }).then(normalizePollingResponse)\n\n  if (resp.status === \"APPROVED\") {\n    return resp.data\n  } else if (resp.status === \"DECLINED\") {\n    throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n  } else if (resp.status === \"PENDING\") {\n    var canContinue = true\n    const {close: closeFrame} = frame(resp.local, {\n      onClose() {\n        canContinue = false\n      },\n    })\n\n    return poll(resp.updates, () => canContinue)\n      .then(compositeSignature => {\n        closeFrame()\n        return normalizeCompositeSignature(compositeSignature)\n      })\n      .catch(error => {\n        console.error(error)\n        closeFrame()\n        throw error\n      })\n  } else {\n    console.error(`Auto Decline: Invalid Response`, {service, resp})\n    throw new Error(`Auto Decline: Invalid Response`)\n  }\n}\n","import {execHttpPost} from \"./strategies/http-post\"\nimport {execIframeRPC} from \"./strategies/iframe-rpc\"\n\nconst STRATEGIES = {\n  \"HTTP/RPC\": execHttpPost,\n  \"HTTP/POST\": execHttpPost,\n  \"IFRAME/RPC\": execIframeRPC,\n}\n\nexport async function execService(service, msg) {\n  try {\n    return STRATEGIES[service.method](service, msg)\n  } catch (error) {\n    console.error(\"execService(service, msg)\", error, {service, msg})\n    throw error\n  }\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {frame} from \"./utils/frame\"\nimport {normalizePollingResponse} from \"../../normalize/polling-response\"\nimport {normalizeCompositeSignature} from \"../../normalize/composite-signature\"\n\nexport function execIframeRPC(service, signable) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    signable.data = service.data\n\n    frame(service, {\n      onReady(_, {send}) {\n        try {\n          send({\n            jsonrpc: \"2.0\",\n            id: id,\n            method: \"fcl:sign\",\n            params: [signable, service.params],\n          })\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(normalizeCompositeSignature(resp.data))\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onMessage error\", error)\n          throw error\n        }\n      },\n    })\n  })\n}\n","import \"../default-config\"\nimport {account} from \"@onflow/sdk-account\"\nimport {config} from \"@onflow/config\"\nimport {spawn, send, INIT, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {account as fetchAccount} from \"@onflow/sdk-account\"\nimport {renderAuthnFrame} from \"./render-authn-frame\"\nimport {buildUser} from \"./build-user\"\nimport {fetchServices} from \"./fetch-services\"\nimport {mergeServices} from \"./merge-services\"\nimport {serviceOfType} from \"./service-of-type\"\nimport {validateCompositeSignature} from \"./validate-composite-signature\"\nimport {execService} from \"./exec-service\"\n\nconst NAME = \"CURRENT_USER\"\nconst UPDATED = \"CURRENT_USER/UPDATED\"\nconst SNAPSHOT = \"SNAPSHOT\"\nconst SET_CURRENT_USER = \"SET_CURRENT_USER\"\nconst DEL_CURRENT_USER = \"DEL_CURRENT_USER\"\n\n// Backwards Compatibility\nconst CANCEL_EVENT = \"FCL::CANCEL\"\nconst CHALLENGE_RESPONSE_EVENT = \"FCL::CHALLENGE::RESPONSE\"\nconst CHALLENGE_CANCEL_EVENT = \"FCL::CHALLENGE::CANCEL\"\n\nconst DATA = `{\n  \"f_type\": \"User\",\n  \"f_vsn\": \"1.0.0\",\n  \"addr\":null,\n  \"cid\":null,\n  \"loggedIn\":null,\n  \"expiresAt\":null,\n  \"services\":[]\n}`\n\nconst coldStorage = {\n  get: async () => {\n    const fallback = JSON.parse(DATA)\n    const stored = JSON.parse(sessionStorage.getItem(NAME))\n    if (stored != null && fallback[\"f_vsn\"] !== stored[\"f_vsn\"]) {\n      sessionStorage.removeItem(NAME)\n      return fallback\n    }\n    return stored || fallback\n  },\n  put: async data => {\n    sessionStorage.setItem(NAME, JSON.stringify(data))\n    return data\n  },\n}\n\nconst canColdStorage = () => {\n  return config().get(\"persistSession\", true)\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    ctx.merge(JSON.parse(DATA))\n    if (await canColdStorage()) {\n      const user = await coldStorage.get()\n      if (notExpired(user)) ctx.merge(user)\n    }\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply({...ctx.all()})\n  },\n  [SET_CURRENT_USER]: async (ctx, letter, data) => {\n    ctx.merge(data)\n    if (await canColdStorage()) coldStorage.put(ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [DEL_CURRENT_USER]: async (ctx, letter) => {\n    ctx.merge(JSON.parse(DATA))\n    if (await canColdStorage()) coldStorage.put(ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n}\n\nconst identity = v => v\nconst spawnCurrentUser = () => spawn(HANDLERS, NAME)\n\nfunction notExpired(user) {\n  return (\n    user.expiresAt == null ||\n    user.expiresAt === 0 ||\n    user.expiresAt > Date.now()\n  )\n}\n\nasync function authenticate() {\n  return new Promise(async resolve => {\n    spawnCurrentUser()\n    const user = await snapshot()\n    if (user.loggedIn && notExpired(user)) return resolve(user)\n\n    const [$frame, unrender] = renderAuthnFrame({\n      handshake: await config().get(\"challenge.handshake\"),\n      l6n: window.location.origin,\n    })\n\n    const replyFn = async ({data}) => {\n      if (data.type === CHALLENGE_CANCEL_EVENT || data.type === CANCEL_EVENT) {\n        unrender()\n        window.removeEventListener(\"message\", replyFn)\n        return\n      }\n      if (data.type !== CHALLENGE_RESPONSE_EVENT) return\n\n      unrender()\n      window.removeEventListener(\"message\", replyFn)\n\n      send(NAME, SET_CURRENT_USER, await buildUser(data))\n      resolve(await snapshot())\n    }\n\n    window.addEventListener(\"message\", replyFn)\n  })\n}\n\nfunction unauthenticate() {\n  spawnCurrentUser()\n  send(NAME, DEL_CURRENT_USER)\n}\n\nconst normalizePreAuthzResponse = authz => ({\n  f_type: \"PreAuthzResponse\",\n  f_vsn: \"1.0.0\",\n  proposer: (authz || {}).proposer,\n  payer: (authz || {}).payer || [],\n  authorization: (authz || {}).authorization || [],\n})\n\nfunction resolvePreAuthz(authz) {\n  const resp = normalizePreAuthzResponse(authz)\n  const axs = []\n\n  if (resp.proposer != null) axs.push([\"PROPOSER\", resp.proposer])\n  for (let az of resp.payer || []) axs.push([\"PAYER\", az])\n  for (let az of resp.authorization || []) axs.push([\"AUTHORIZER\", az])\n\n  var result = axs.map(([role, az]) => ({\n    tempId: [az.identity.address, az.identity.keyId].join(\"|\"),\n    addr: az.identity.address,\n    keyId: az.identity.keyId,\n    signingFunction(signable) {\n      return execService(az, signable)\n    },\n    role: {\n      proposer: role === \"PROPOSER\",\n      payer: role === \"PAYER\",\n      authorizer: role === \"AUTHORIZER\",\n    },\n  }))\n  return result\n}\n\nasync function authorization(account) {\n  spawnCurrentUser()\n  const user = await authenticate()\n  const authz = serviceOfType(user.services, \"authz\")\n\n  const preAuthz = serviceOfType(user.services, \"pre-authz\")\n  if (preAuthz) {\n    return {\n      ...account,\n      tempId: \"CURRENT_USER\",\n      async resolve(account, preSignable) {\n        return resolvePreAuthz(await execService(preAuthz, preSignable))\n      },\n    }\n  }\n\n  return {\n    ...account,\n    tempId: \"CURRENT_USER\",\n    resolve: null,\n    addr: sansPrefix(authz.identity.address),\n    keyId: authz.identity.keyId,\n    sequenceNum: null,\n    signature: null,\n    async signingFunction(signable) {\n      return execService(authz, signable)\n    },\n  }\n}\n\nfunction subscribe(callback) {\n  spawnCurrentUser()\n  const EXIT = \"@EXIT\"\n  const self = spawn(async ctx => {\n    ctx.send(NAME, SUBSCRIBE)\n    while (1) {\n      const letter = await ctx.receive()\n      if (letter.tag === EXIT) {\n        ctx.send(NAME, UNSUBSCRIBE)\n        return\n      }\n      callback(letter.data)\n    }\n  })\n  return () => send(self, EXIT)\n}\n\nfunction snapshot() {\n  spawnCurrentUser()\n  return send(NAME, SNAPSHOT, null, {expectReply: true, timeout: 0})\n}\n\nasync function info() {\n  spawnCurrentUser()\n  const {addr} = await snapshot()\n  if (addr == null) throw new Error(\"No Flow Address for Current User\")\n  return account(addr)\n}\n\nexport const currentUser = () => {\n  return {\n    authenticate,\n    unauthenticate,\n    authorization,\n    subscribe,\n    snapshot,\n  }\n}\n","import {renderFrame} from \"./render-frame\"\n\nexport function renderAuthnFrame({handshake, l6n}) {\n  var url = new URL(handshake)\n  url.searchParams.append(\"l6n\", l6n)\n  return renderFrame(url.href)\n}\n","const FRAME_ID = \"FCL_IFRAME\"\n\nexport function renderFrame(src) {\n  if (document.getElementById(FRAME_ID)) return\n\n  const $frame = document.createElement(\"iframe\")\n  $frame.src = src\n  $frame.id = FRAME_ID\n  $frame.allow = \"usb *\"\n  $frame.frameBorder = \"0\"\n  $frame.style.cssText = `\n    position:fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n    height: 100vh;\n    width: 100vw;\n    display:block;\n    background:rgba(0,0,0,0.25);\n    z-index: 2147483647;\n    box-sizing: border-box;\n  `\n  document.body.append($frame)\n\n  const unmount = () => {\n    if (document.getElementById(FRAME_ID)) {\n      document.getElementById(FRAME_ID).remove()\n    }\n  }\n\n  return [$frame, unmount]\n}\n","export async function fetchServices(servicesURL, code) {\n  if (servicesURL == null || code == null) return []\n\n  const url = new URL(servicesURL)\n  url.searchParams.append(\"code\", code)\n\n  const resp = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  }).then(d => d.json())\n\n  if (Array.isArray(resp)) return resp\n\n  // Backwards compatibility for First-Gen Wallet Providers\n  const services = []\n\n  // Convert authorizations into authz services\n  if (Array.isArray(resp.authorizations)) {\n    for (let service of resp.authorizations) {\n      services.push({\n        type: \"authz\",\n        keyId: resp.keyId,\n        ...service,\n      })\n    }\n  }\n\n  // Convert Provider info into an authn service\n  if (resp.provider != null) {\n    services.push({\n      type: \"authn\",\n      id: \"wallet-provider#authn\",\n      ...resp.provider,\n    })\n  }\n\n  return services\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport function mergeServices(sx1 = [], sx2 = []) {\n  // TODO: Make this smarter\n  return [...sx1, ...sx2]\n}\n","import \"./default-config\"\nimport \"./temp\"\nexport {serialize} from \"./serialize\"\nexport {transaction as tx} from \"./transaction\"\nexport {events} from \"./events\"\n\nimport {currentUser} from \"./current-user\"\nexport {currentUser}\n\nexport const authenticate = () => currentUser().authenticate()\nexport const unauthenticate = () => currentUser().unauthenticate()\nexport const reauthenticate = () => {\n  currentUser().unauthenticate()\n  return currentUser().authenticate()\n}\nexport const signUp = () => currentUser().authenticate()\nexport const logIn = () => currentUser().authenticate()\n\nexport const authz = currentUser().authorization\n\nexport {config} from \"@onflow/config\"\nexport {send} from \"@onflow/sdk-send\"\nexport {decode} from \"@onflow/sdk-decode\"\nexport {account} from \"@onflow/sdk-account\"\nexport {latestBlock} from \"@onflow/sdk-latest-block\"\nexport {isOk, isBad, why, pipe} from \"@onflow/interaction\"\nexport {withPrefix, sansPrefix, display} from \"@onflow/util-address\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// builders\nexport {transaction} from \"@onflow/sdk-build-transaction\"\nexport {script} from \"@onflow/sdk-build-script\"\nexport {ping} from \"@onflow/sdk-build-ping\"\nexport {getAccount} from \"@onflow/sdk-build-get-account\"\nexport {getEvents} from \"@onflow/sdk-build-get-events\"\nexport {getLatestBlock} from \"@onflow/sdk-build-get-latest-block\"\nexport {getBlockById} from \"@onflow/sdk-build-get-block-by-id\"\nexport {getBlockByHeight} from \"@onflow/sdk-build-get-block-by-height\"\nexport {getTransactionStatus} from \"@onflow/sdk-build-transaction-status\"\nexport {authorizations, authorization} from \"@onflow/sdk-build-authorizations\"\nexport {args, arg} from \"@onflow/sdk-build-arguments\"\nexport {proposer} from \"@onflow/sdk-build-proposer\"\nexport {payer} from \"@onflow/sdk-build-payer\"\nexport {limit} from \"@onflow/sdk-build-limit\"\nexport {ref} from \"@onflow/sdk-build-ref\"\nexport {params, param} from \"@onflow/sdk-build-params\"\n\nexport const VERSION = \"0.0.67\"\n"]},"metadata":{},"sourceType":"module"}